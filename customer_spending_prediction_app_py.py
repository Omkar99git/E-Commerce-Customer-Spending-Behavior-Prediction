# -*- coding: utf-8 -*-
"""customer_spending_prediction_app.py

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1hC0wGtRffCXDpzWA2DWMiUks4bEMBBiM
"""

import streamlit as st
import pandas as pd
import numpy as np
from sklearn.preprocessing import StandardScaler
from sklearn.linear_model import LinearRegression
import pickle

# Load dataset

df = pd.read_csv('Ecommerce_Customers.csv')
df.columns

# Preprocessing

X = df[['Avg Session Length','Time on App','Time on Website','Length of Membership']]
y = df['Yearly Amount Spent']

scaler = StandardScaler()
X = scaler.fit_transform(X)

# Train the model

model = LinearRegression()
model.fit(X,y)

# Streamlit app

st.title('E-commerce customer spending prediction')

# Input fields

avg_session_length = st.number_input('Avg Session Length (minutes)')
time_on_app = st.number_input('Time on App (minutes)')
time_on_website = st.number_input('Time on Website (minutes)')
length_of_membership = st.number_input('Length of Membership (years)')

# Create input array

input_data = np.array([[avg_session_length, time_on_app, time_on_website, length_of_membership]])

# Scale input data

scaled_input = scaler.transform(input_data)

# Make predictions

prediction = model.predict(scaled_input)[0]

# Display prediction

st.write(f'Predicted Yearly Amount Spent: ${prediction:.2f}')

